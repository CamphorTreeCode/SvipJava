<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.shensu.dao.FranchiserUserMapper">
  <resultMap id="BaseResultMap" type="com.shensu.pojo.FranchiserUser">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="franchiserUserId" jdbcType="INTEGER" property="franchiseruserid" />
    <result column="openId" jdbcType="VARCHAR" property="openid" />
    <result column="franchiserUserCreatTime" jdbcType="VARCHAR" property="franchiserusercreattime" />
    <result column="franchiserUserAccounts" jdbcType="VARCHAR" property="franchiseruseraccounts" />
    <result column="franchiserUserPassword" jdbcType="VARCHAR" property="franchiseruserpassword" />
    <result column="franchiserUserUserName" jdbcType="VARCHAR" property="franchiseruserusername" />
    <result column="franchiserUserPid" jdbcType="VARCHAR" property="franchiseruserpid" />
  </resultMap>
  
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    franchiserUserId, openId, franchiserUserCreatTime, franchiserUserAccounts, franchiserUserPassword, 
    franchiserUserUserName, franchiserUserPid
  </sql>
  
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from FranchiserUser
    where franchiserUserId = #{franchiseruserid,jdbcType=INTEGER}
  </select>
  
 
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from FranchiserUser
    where franchiserUserId = #{franchiseruserid,jdbcType=INTEGER}
  </delete>
  
  <insert id="insert" parameterType="com.shensu.pojo.FranchiserUser">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into FranchiserUser (franchiserUserId, openId, franchiserUserCreatTime, 
      franchiserUserAccounts, franchiserUserPassword, 
      franchiserUserUserName, franchiserUserPid
      )
    values (#{franchiseruserid,jdbcType=INTEGER}, #{openid,jdbcType=VARCHAR}, #{franchiserusercreattime,jdbcType=VARCHAR}, 
      #{franchiseruseraccounts,jdbcType=VARCHAR}, #{franchiseruserpassword,jdbcType=VARCHAR}, 
      #{franchiseruserusername,jdbcType=VARCHAR}, #{franchiseruserpid,jdbcType=VARCHAR}
      )
  </insert>
  
  <insert id="insertSelective" parameterType="com.shensu.pojo.FranchiserUser">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into FranchiserUser
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="franchiseruserid != null">
        franchiserUserId,
      </if>
      <if test="openid != null">
        openId,
      </if>
      <if test="franchiserusercreattime != null">
        franchiserUserCreatTime,
      </if>
      <if test="franchiseruseraccounts != null">
        franchiserUserAccounts,
      </if>
      <if test="franchiseruserpassword != null">
        franchiserUserPassword,
      </if>
      <if test="franchiseruserusername != null">
        franchiserUserUserName,
      </if>
      <if test="franchiseruserpid != null">
        franchiserUserPid,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="franchiseruserid != null">
        #{franchiseruserid,jdbcType=INTEGER},
      </if>
      <if test="openid != null">
        #{openid,jdbcType=VARCHAR},
      </if>
      <if test="franchiserusercreattime != null">
        #{franchiserusercreattime,jdbcType=VARCHAR},
      </if>
      <if test="franchiseruseraccounts != null">
        #{franchiseruseraccounts,jdbcType=VARCHAR},
      </if>
      <if test="franchiseruserpassword != null">
        #{franchiseruserpassword,jdbcType=VARCHAR},
      </if>
      <if test="franchiseruserusername != null">
        #{franchiseruserusername,jdbcType=VARCHAR},
      </if>
      <if test="franchiseruserpid != null">
        #{franchiseruserpid,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  
  <update id="updateByPrimaryKeySelective" parameterType="com.shensu.pojo.FranchiserUser">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update FranchiserUser
    <set>
      <if test="openid != null">
        openId = #{openid,jdbcType=VARCHAR},
      </if>
      <if test="franchiserusercreattime != null">
        franchiserUserCreatTime = #{franchiserusercreattime,jdbcType=VARCHAR},
      </if>
      <if test="franchiseruseraccounts != null">
        franchiserUserAccounts = #{franchiseruseraccounts,jdbcType=VARCHAR},
      </if>
      <if test="franchiseruserpassword != null">
        franchiserUserPassword = #{franchiseruserpassword,jdbcType=VARCHAR},
      </if>
      <if test="franchiseruserusername != null">
        franchiserUserUserName = #{franchiseruserusername,jdbcType=VARCHAR},
      </if>
      <if test="franchiseruserpid != null">
        franchiserUserPid = #{franchiseruserpid,jdbcType=VARCHAR},
      </if>
    </set>
    where franchiserUserId = #{franchiseruserid,jdbcType=INTEGER}
  </update>
  
  <update id="updateByPrimaryKey" parameterType="com.shensu.pojo.FranchiserUser">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update FranchiserUser
    set openId = #{openid,jdbcType=VARCHAR},
      franchiserUserCreatTime = #{franchiserusercreattime,jdbcType=VARCHAR},
      franchiserUserAccounts = #{franchiseruseraccounts,jdbcType=VARCHAR},
      franchiserUserPassword = #{franchiseruserpassword,jdbcType=VARCHAR},
      franchiserUserUserName = #{franchiseruserusername,jdbcType=VARCHAR},
      franchiserUserPid = #{franchiseruserpid,jdbcType=VARCHAR}
    where franchiserUserId = #{franchiseruserid,jdbcType=INTEGER}
  </update>
  
  	<!-- 添加加盟者账号信息 -->
  	<insert id="insertFranchiserUser" parameterType="com.shensu.pojo.FranchiserUser">
    
    insert into FranchiserUser
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="franchiseruserid != null">
        franchiserUserId,
      </if>
      <if test="openid != null">
        openId,
      </if>
      <if test="franchiserusercreattime != null">
        franchiserUserCreatTime,
      </if>
      <if test="franchiseruseraccounts != null">
        franchiserUserAccounts,
      </if>
      <if test="franchiseruserpassword != null">
        franchiserUserPassword,
      </if>
      <if test="franchiseruserusername != null">
        franchiserUserUserName,
      </if>
      <if test="franchiseruserpid != null">
        franchiserUserPid,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="franchiseruserid != null">
        #{franchiseruserid,jdbcType=INTEGER},
      </if>
      <if test="openid != null">
        #{openid,jdbcType=VARCHAR},
      </if>
      <if test="franchiserusercreattime != null">
        #{franchiserusercreattime,jdbcType=VARCHAR},
      </if>
      <if test="franchiseruseraccounts != null">
        #{franchiseruseraccounts,jdbcType=VARCHAR},
      </if>
      <if test="franchiseruserpassword != null">
        #{franchiseruserpassword,jdbcType=VARCHAR},
      </if>
      <if test="franchiseruserusername != null">
        #{franchiseruserusername,jdbcType=VARCHAR},
      </if>
      <if test="franchiseruserpid != null">
        #{franchiseruserpid,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  
   <!--根据加盟者openId查询用户信息 -->
	<select id="findUser" parameterType="java.lang.String"
		resultType="int">
		select count(franchiserUserUserName) from FranchiserUser where openId= #{openId,jdbcType=VARCHAR}
	</select>
	
	
    <!-- 根据加盟者id查询信息 -->
    <select id="findFranchiserUser" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    	select
    		franchiserUserId, openId, franchiserUserCreatTime, 
    		franchiserUserAccounts, franchiserUserPassword, 
    		franchiserUserUserName, franchiserUserPid
    	from
    		FranchiserUser
    	where
    		franchiserUserId = #{franchiseruserid,jdbcType=INTEGER}
    </select>
	
	<!-- 根据条件分页查询 -->
  <select id="selectByCondition" resultMap="BaseResultMap">
       
		select * from FranchiserUser where 1=1


		<if test="franchiserUserUserName!=null">
			and franchiserUserUserName=#{franchiserUserUserName}
		</if>
		
		<if test="franchiserUserAccounts!=null">
			and franchiserUserAccounts=#{franchiserUserAccounts}
		</if>
		
		<if test="franchiserUserPid!=null">
			and franchiserUserPid=#{franchiserUserPid}
		</if>
		
		order by franchiserUserCreatTime desc
		<if test="start!=null and size!=null">
			LIMIT #{start},#{size}
		</if>
	
  </select>
  
  <!-- 根据条件查询总数 -->
  <select id="selectCountByCondition" resultType="Integer">
      select count(*) from FranchiserUser where 1=1
        
        <if test="franchiserUserUserName!=null">
			and franchiserUserUserName=#{franchiserUserUserName}
		</if>
		
		<if test="franchiserUserAccounts!=null">
			and franchiserUserAccounts=#{franchiserUserAccounts}
		</if>
		
		<if test="franchiserUserPid!=null">
			and franchiserUserPid=#{franchiserUserPid}
		</if>
		<if test="start!=null and size!=null">
			LIMIT #{start},#{size} 
		</if>
  </select>
  
  <!-- 编辑加盟者账号信息 -->
  <update id="modifyFranchiserUser" parameterType="com.shensu.pojo.FranchiserUser">

     	update FranchiserUser
    <set>
      <if test="openid != null">
        openId = #{openid,jdbcType=VARCHAR},
      </if>
      <if test="franchiserusercreattime != null">
        franchiserUserCreatTime = #{franchiserusercreattime,jdbcType=VARCHAR},
      </if>
      <if test="franchiseruseraccounts != null">
        franchiserUserAccounts = #{franchiseruseraccounts,jdbcType=VARCHAR},
      </if>
      <if test="franchiseruserpassword != null">
        franchiserUserPassword = #{franchiseruserpassword,jdbcType=VARCHAR},
      </if>
      <if test="franchiseruserusername != null">
        franchiserUserUserName = #{franchiseruserusername,jdbcType=VARCHAR},
      </if>
      <if test="franchiseruserpid != null">
        franchiserUserPid = #{franchiseruserpid,jdbcType=VARCHAR},
      </if>
    </set>
    where franchiserUserId = #{franchiseruserid,jdbcType=INTEGER}
  </update>
  
   <!-- 根据加盟者id删除信息 -->
    <delete id="deleteFranchiserUser" parameterType="java.lang.Integer">
    
	    delete from 
	    	FranchiserUser
	    where 
	    	franchiserUserId = #{franchiseruserid,jdbcType=INTEGER}
	    	
  </delete>
   
   <!-- 查询加盟者账号全部列表 -->
 	<select id="findAllFranchiserUserDetails" parameterType="java.lang.Integer" resultMap="BaseResultMap">
  
  		select
    		franchiserUserId, openId, franchiserUserCreatTime, 
    		franchiserUserAccounts, franchiserUserPassword, 
    		franchiserUserUserName, franchiserUserPid
    	from
    		FranchiserUser
    	order by 
    		franchiserusercreattime desc
    	
  </select>
     <!--根据加盟者openId查询用户信息 -->
	<select id="findUserPId" parameterType="java.lang.String"
		resultType="com.shensu.pojo.FranchiserUser">
		select * from FranchiserUser where openId= #{openId,jdbcType=VARCHAR}
	</select>
	
	<!-- 查询编辑账号全部信息(除了本条信息之外的)-->
 	<select id="editFranchiserUser" parameterType="java.lang.Integer" resultMap="BaseResultMap">
  
  		select 
			franchiserUserId, openId, franchiserUserCreatTime, 
    		franchiserUserAccounts, franchiserUserPassword, 
    		franchiserUserUserName, franchiserUserPid
		from 
			FranchiserUser f1 
		where not exists (
				select 
						f1.franchiserUserId 
				from 
						FranchiserUser f2 
				where 
						f1.franchiserUserId = #{franchiseruserid,jdbcType=INTEGER} )
    	
  </select>
	
	
  <!--  findUserPId-->
  
  
  
  
  
</mapper>